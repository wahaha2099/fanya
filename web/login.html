<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
</head>

<body id="body">

<input name="pid"  v-model="pid"><button @click="login" >登录</button>


</body>

<script type="text/javascript" src="/static/js/vue.min.js"></script>
<script type="text/javascript" src="/static/js/vue-resource.min.js"></script>

<script>
    var server = 'http://www.kaasworld.com:9000';
    //server = 'http://localhost';

    var vue = new Vue({
        el: '#body',
        data: {
            pid:'xxxxx8'
        },
        methods:{
            login:function () {
                this.$http.post( server + '/v1/not_auth/mobile' , {pid:this.pid} , {'emulateJSON':true}).then( this.success ,this.error );
            },
            success:function(response){
                console.log(response);

                alert( JSON.stringify(response.data ) );

                //goIndex();
            },
            error:function( response){
                console.log(response);
            }
        }
    });
</script>
<script>
    //setContent( JSON.stringify({'loginname':'123' , 'token':123}));
    function setContent(data) {
        data = JSON.parse(data);
        var token  = data["token"];
        var loginname = data["loginname"];
        vue.pid = loginname ;

        if( android )
            android.info("setContent: " + data);

        //vue.login();
        //enablePage();
    }

    function goIndex(){
        window.location.href = 'index.html';
    }

</script>
</html>